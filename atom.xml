<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è®°å½•ç”Ÿæ´»~</title>
  <subtitle>ywzçš„åšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wenzhao.in/"/>
  <updated>2017-01-19T13:47:04.000Z</updated>
  <id>http://wenzhao.in/</id>
  
  <author>
    <name>Yin Wenzhao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Qunar React Native ( QRN ) é¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–</title>
    <link href="http://wenzhao.in/qrn-optimize-load-firstPage/"/>
    <id>http://wenzhao.in/qrn-optimize-load-firstPage/</id>
    <published>2017-01-17T02:15:00.000Z</published>
    <updated>2017-01-19T13:47:04.000Z</updated>
    
    <content type="html">&lt;p&gt;React Native ( RN )å¯ä»¥è¯´æ˜¯ç›®å‰æœ€ç«çš„ç§»åŠ¨è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œå…¶é€šè¿‡ JavaScript ï¼ˆJSï¼‰æ¥å¼€å‘ iOSã€Android åŸç”Ÿåº”ç”¨ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ Native çš„åŸç”Ÿç»„ä»¶ï¼Œé€šè¿‡ RN å¼€å‘çš„é¡µé¢å¯ä»¥åª²ç¾åŸç”Ÿ Native é¡µé¢ã€‚ Qunar  React  Native ( QRN ) æ˜¯ Qunar ç§»åŠ¨æ¶æ„ç»„ ( YMFE ) åŸºäº RN æ·±åº¦å®šåˆ¶çš„è·¨å¹³å°ç§»åŠ¨å¼€å‘æ¡†æ¶ï¼ŒQRN åœ¨æ¡†æ¶å±‚é¢ä¸Šè¿›ä¸€æ­¥æŠ¹å¹³äº† iOS ä¸ Android çš„å¹³å°å·®å¼‚ï¼Œè®© RN çš„å¼€å‘å˜å¾—æ›´åŠ é«˜æ•ˆã€‚&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;å½“æˆ‘ä»¬æ‰“å¼€ RN çš„ Demo æ—¶å¯ä»¥éå¸¸æ˜æ˜¾çš„çœ‹åˆ°åœ¨æ˜¾ç¤º RN é¡µé¢ä¹‹å‰æœ‰ä¸€ä¸ªç™½å±çš„è¿‡ç¨‹ã€‚ä¸ºäº†ä¼˜åŒ–ä½“éªŒï¼Œåœ¨ QRN ä¸­ä½¿ç”¨äº† Loading åŠ¨ç”»å¯¹åº” RN ä¸­çš„ç™½å±é˜¶æ®µã€‚å½“ç‚¹å‡»è¿›å…¥ä¸€ä¸ª QRN é¡µé¢æ—¶æˆ‘ä»¬ä¼šå…ˆçœ‹åˆ° Loading åŠ¨ç”»ï¼Œåœ¨ Loading åŠ¨ç”»ç»“æŸåæ‰ä¼šè¿›å…¥åˆ° QRN é¡µé¢ï¼Œè¿™ä¸ª Loading åŠ¨ç”»åªä¼šåœ¨ç”¨æˆ·é¦–æ¬¡è¿›å…¥è¯¥é¡µé¢æ—¶å‡ºç°ã€‚ä½†æ˜¯éšç€ä¸šåŠ¡ QRN çš„é¡µé¢å˜å¾—å¤æ‚ï¼Œå¼•å…¥æ›´å¤šå·¥å…·ä¾‹å¦‚ Reduxåï¼Œé¦–å±åŠ è½½çš„ Loading åŠ¨ç”»æ—¶é—´ä¼šè¶Šæ¥è¶Šé•¿ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿä¼šå˜å¾—æ›´ç³Ÿã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844822177784.jpg&quot; width=&quot;500&quot; title=&quot;RN åŠ è½½ç™½å±&quot;&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844867632251.jpg&quot; width=&quot;480&quot; title=&quot;QRN åŠ è½½Loading&quot;&gt;
&lt;p&gt;æœ¬æ–‡å°±æ˜¯ä¸ºäº†å‡å°‘ Loading åŠ¨ç”»æ—¶é—´ï¼Œè®© QRN é¡µé¢æ›´åƒä¸€ä¸ª Native é¡µé¢ã€‚é¦–å…ˆä¼šä»‹ç» RN ä¸­ä¸€äº›é‡è¦æ¦‚å¿µå’Œ RN çš„åŠ è½½æµç¨‹ï¼Œå¹¶åœ¨è¿™ä¸ªåŸºç¡€ä¸Šä»‹ç» QRN ä¸­ä¸ºäº†æé«˜æ‰“å¼€é€Ÿåº¦æ‰€åšçš„ä¸€äº›å·¥ä½œï¼Œ ä¹‹åä¼šç»“åˆè¿™äº›æå‡ºä¼˜åŒ– QRN é¦–å±åŠ è½½é€Ÿåº¦çš„æ–¹æ³•ï¼Œè®© Loading åŠ¨ç”»çš„æ—¶é—´å˜å¾—æ›´çŸ­ã€‚å¯¹äºä½¿ç”¨ RN è¿›è¡Œå¼€å‘çš„æœ‹å‹ä¹Ÿå¯ä»¥é€šè¿‡è¿™äº›æ–¹æ³•å‡å°‘ç™½å±æ—¶é—´ã€‚&lt;/p&gt;
&lt;h2 id=&quot;RootView-ä¸-Bridge&quot;&gt;&lt;a href=&quot;#RootView-ä¸-Bridge&quot; class=&quot;headerlink&quot; title=&quot;RootView  ä¸ Bridge&quot;&gt;&lt;/a&gt;RootView  ä¸ Bridge&lt;/h2&gt;&lt;p&gt;RootView  ä¸ Bridge æ˜¯ RN å¼€å‘ä¸­éå¸¸é‡è¦çš„ä¸¤ä¸ªæ¦‚å¿µã€‚RN  é¡µé¢æ˜¾ç¤ºçš„æ‰€æœ‰ View éƒ½æ˜¯æ”¾ç½®äº RootView ä¸Šï¼ŒRootView å¯ä»¥ç†è§£ä¸º RN é¡µé¢çš„ç”»æ¿ï¼Œä¸€ä¸ª RootView ä¸ŠåŒæ—¶åªèƒ½æ˜¾ç¤ºä¸€ä¸ªé€šè¿‡ JS  å‡½æ•° &lt;code&gt;AppRegistry.registerComponent()&lt;/code&gt; æ³¨å†Œçš„é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;Bridge æ˜¯ RN ä¸­ JS ä»£ç ä¸ Native ä»£ç äº¤äº’çš„æ¡¥æ¢ï¼Œ é€šè¿‡ Bridge JS ä»£ç å¯ä»¥è°ƒç”¨ Native çš„ APIï¼Œå¹¶åœ¨ RootView ä¸Šç»˜åˆ¶éœ€è¦æ˜¾ç¤ºçš„ Viewã€‚å¯ä»¥è¯´ Bridge æ˜¯ RN JS ä»£ç çš„è§£é‡Šå™¨ï¼Œä¸€ä¸ª Ready çŠ¶æ€çš„ Bridge åŒ…å«äº† RN Native ç¯å¢ƒã€JS ç¯å¢ƒä»¥åŠåˆå§‹åŒ–å®Œæˆçš„å„ç§ RN æ¨¡å—å’Œ UI ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ RN ä¸­æ¯ä¸ª RootView éƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„ Bridgeï¼Œä¸€ä¸ª Bridge å¯ä»¥å¯¹åº”å¤šä¸ª RootView ï¼Œè¿™äº›å¤šä¸ª RootView å› ä¸ºå…±ç”¨çš„ä¸€ä¸ª Bridge æ‰€ä»¥ä»–ä»¬å…¶å®ä½¿ç”¨çš„æ˜¯åŒä¸€å¥— JS ç¯å¢ƒï¼Œå¹¶ä¸”æ”¯æŒæ˜¾ç¤ºä¸åŒçš„é¡µé¢ã€‚ åœ¨ RN ä¸­ RootView çš„ç™½å±å’Œ QRN çš„ Loading åŠ¨ç”»éƒ½æ˜¯åœ¨ç­‰å¾…å…¶æ‰€å¯¹åº”çš„ Bridge åŠ è½½å®Œæˆã€‚&lt;br&gt;&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844851764837.jpg&quot; width=&quot;600&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;RN-çš„åŠ è½½æµç¨‹&quot;&gt;&lt;a href=&quot;#RN-çš„åŠ è½½æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;RN çš„åŠ è½½æµç¨‹&quot;&gt;&lt;/a&gt;RN çš„åŠ è½½æµç¨‹&lt;/h2&gt;&lt;p&gt;åœ¨äº†è§£ RN çš„åŠ è½½æµç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ä¸€ä¸ªå…¸å‹çš„ RN é¡µé¢ç»„ä»¶çš„å†™æ³•ã€‚æˆ‘ä»¬ä¼šå…ˆä» &lt;code&gt;react&lt;/code&gt; å’Œ &lt;code&gt;react-native&lt;/code&gt; ä¸­å¼•å…¥æ‰€éœ€çš„åŸºæœ¬ç»„ä»¶ï¼Œé¡µé¢ &lt;code&gt;Page&lt;/code&gt; ç»§æ‰¿è‡ª &lt;code&gt;Component&lt;/code&gt; ï¼Œåœ¨&lt;code&gt;reder()&lt;/code&gt; å‡½æ•°ä¸­æˆ‘ä»¬ä¼šè¿”å›éœ€è¦æ¸²æŸ“çš„é¡µé¢ï¼Œæœ€åæˆ‘ä»¬ä¼šé€šè¿‡ &lt;code&gt;AppRegistry.registerComponent(&amp;#39;Page&amp;#39;, () =&amp;gt; Page)&lt;/code&gt; å®Œæˆé¡µé¢çš„æ³¨å†Œã€‚&lt;code&gt;AppRegistry.registerComponent(&amp;#39;Page&amp;#39;, () =&amp;gt; Page)&lt;/code&gt; å‡½æ•°ä¸­ç¬¬ä¸€ä¸ªå‚æ•° &lt;code&gt;&amp;#39;Page&amp;#39;&lt;/code&gt; æ˜¯æˆ‘ä»¬éœ€è¦æ³¨å†Œçš„ç»„ä»¶åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•° &lt;code&gt;() =&amp;gt; Page&lt;/code&gt; æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è¿”å›å¯¹åº”çš„é¡µé¢ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;AppRegistry.registerComponent()&lt;/code&gt; æ³¨å†Œå¤šä¸ªé¡µé¢ã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844891074833.jpg&quot; width=&quot;500&quot;&gt;
&lt;p&gt;è¿™é‡ŒæŠŠ RN çš„åŠ è½½æµç¨‹ç®€åŒ–ä¸º 4 ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹åŒ– RN ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;ä¸‹è½½ JS Bundle&lt;/li&gt;
&lt;li&gt;è¿è¡Œ JS Bundle &lt;/li&gt;
&lt;li&gt;æ¸²æŸ“é¡µé¢&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844898534864.jpg&quot; width=&quot;500&quot;&gt;
&lt;p&gt;åˆå§‹åŒ– RN ç¯å¢ƒä¸»è¦æ˜¯å®Œæˆ Native ç¯å¢ƒçš„åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬åˆ›å»º Bridge ã€ Bridge ä¸­çš„ JS ç¯å¢ƒã€RN æ¨¡å—å’Œå„ç§ UI ç»„ä»¶ã€‚JS Bundle æ˜¯ç”± RN å¼€å‘å·¥å…· pack å‡ºæ¥çš„ JS æ–‡ä»¶ï¼Œå…¶ä¸­ä¸ä»…ä»…åŒ…å«äº†å‰é¢æåˆ°çš„ RN é¡µé¢ç»„ä»¶çš„ JS ä»£ç ï¼Œè¿˜æœ‰ &lt;code&gt;react&lt;/code&gt;ã€&lt;code&gt;react-native&lt;/code&gt; çš„JSä»£ç ï¼Œå¦‚æœä½ ä½¿ç”¨äº† &lt;code&gt;Redux&lt;/code&gt; ( è¿™åŸºæœ¬ä¸Šæ˜¯ RN å¼€å‘æ‰€å¿…å¤‡çš„)ç­‰å…¶ä»–æ¨¡å—ï¼Œé‚£ä¹ˆä»–ä»¬çš„ä»£ç ä¹Ÿä¼šåŒ…å«åœ¨å…¶ä¸­ã€‚RN éå¸¸ç®€å•çš„ demo é¡µé¢minify ä¹‹åçš„ JS  Bundle æ–‡ä»¶æœ‰æ¥è¿‘ 700KBï¼Œæ‰€ä»¥ JS Bundleæ–‡ä»¶çš„ä¸‹è½½æ—¶é—´æ˜¯éœ€è¦è€ƒè™‘çš„ã€‚åœ¨è¿è¡Œå®Œ JS Bundle ä¹‹åï¼ŒNative ä»£ç ä¼šåœ¨ JS ç¯å¢ƒä¸­æ‰§è¡Œ &lt;code&gt;AppRegistry.runApplication( moduleName, {})&lt;/code&gt;ï¼Œè¿™ä¸ªå‡½æ•°æ‰æ˜¯æ¸²æŸ“é¡µé¢çš„å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•° &lt;code&gt;moduleName&lt;/code&gt; ç”¨æ¥å‘Šè¯‰JS ç¯å¢ƒéœ€è¦æ¸²æŸ“å“ªä¸€ä¸ªé¡µé¢ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼šåŒ…å«ä¸€äº›é¡µé¢åˆå§‹åŒ–propsï¼Œä¹‹åç”¨æˆ·å°±å¯ä»¥çœ‹åˆ° RootView ä¸Šæ˜¾ç¤ºçš„é¡µé¢äº†ã€‚å‰é¢ 3 ä¸ªé˜¶æ®µé€šå¸¸ä¼šèŠ±è´¹ 1s ä»¥ä¸Šçš„æ—¶é—´ï¼Œè€Œæ¸²æŸ“é¡µé¢çš„æ—¶é—´åªéœ€è¦å‡ åæ¯«ç§’ï¼Œä¸ä¼šè¶…è¿‡ 200msã€‚å› æ­¤ RN é¡µé¢çš„ç™½å±ä¸»è¦æ˜¯ä¸ºäº† &lt;code&gt;AppRegistry.runApplication( )&lt;/code&gt;ä¹‹å‰çš„å‡†å¤‡å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&quot;QRN-çš„åŠ è½½æµç¨‹&quot;&gt;&lt;a href=&quot;#QRN-çš„åŠ è½½æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;QRN çš„åŠ è½½æµç¨‹&quot;&gt;&lt;/a&gt;QRN çš„åŠ è½½æµç¨‹&lt;/h2&gt;&lt;p&gt;åœ¨ QRN ä¸­æˆ‘ä»¬å°† JS Bundle æ‹†åˆ†ä¸ºäº†QRN æ¡†æ¶ JS å’Œä¸šåŠ¡ JS ä¸¤éƒ¨åˆ†ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šåšäº† Bridge çš„é¢„åŠ è½½å’Œç¼“å­˜ç”¨æ¥å‡å°‘ QRN é¡µé¢å¼€å§‹æ¸²æŸ“ä¹‹å‰çš„å‡†å¤‡æ—¶é—´ã€‚&lt;/p&gt;
&lt;h3 id=&quot;JS-Bundle-çš„æ‹†åˆ†&quot;&gt;&lt;a href=&quot;#JS-Bundle-çš„æ‹†åˆ†&quot; class=&quot;headerlink&quot; title=&quot;JS Bundle çš„æ‹†åˆ†&quot;&gt;&lt;/a&gt;JS Bundle çš„æ‹†åˆ†&lt;/h3&gt;&lt;p&gt;åœ¨ RN çš„åŠ è½½æµç¨‹ä¸­æåˆ°ï¼ŒJS Bundle ä¸­ä¸ä»…ä»…åŒ…å« RN é¡µé¢ç»„ä»¶çš„ JS ä»£ç ï¼Œè¿˜æœ‰ &lt;code&gt;react&lt;/code&gt;ã€&lt;code&gt;react-native&lt;/code&gt; çš„JSä»£ç ä»¥åŠä¸€äº›å¼•å…¥çš„ JS æ¨¡å—ä»£ç ã€‚åœ¨ QRN ä¸­JS Bundle è¢«æ‹†åˆ†ä¸ºäº† QRN æ¡†æ¶ JS  å’Œä¸šåŠ¡ JSã€‚QRN æ¡†æ¶ JS ä¸­åŒ…å«äº† &lt;code&gt;react&lt;/code&gt;ã€&lt;code&gt;react-native&lt;/code&gt; ä»¥åŠ QRN å¢å¼ºæ¡†æ¶ &lt;code&gt;Ext&lt;/code&gt; çš„ JS ä»£ç ï¼Œ è¿™éƒ¨åˆ†æ˜¯å’Œä¸šåŠ¡æ— å…³çš„ï¼›ä¸šåŠ¡ JS  æ˜¯æ¯ä¸ªä¸šåŠ¡è‡ªå·±å†™çš„ä¸€äº› JS ä»£ç ï¼ŒåŒ…å«äº†é¡µé¢çš„å¸ƒå±€é€»è¾‘ã€fetch æ•°æ®ä»¥åŠå¤„ç†æ•°æ®çš„é€»è¾‘ç­‰ç­‰ï¼Œå¦‚æœé¡µé¢éå¸¸ç®€å•ï¼Œé‚£ä¹ˆä¸šåŠ¡ JS ç”šè‡³åªéœ€è¦å‡ KBã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844922442682.jpg&quot; width=&quot;400&quot;&gt;
&lt;p&gt;ç»è¿‡ JS Bundle çš„æ‹†åˆ†åï¼Œæ¯ä¸ªä¸šåŠ¡åªéœ€è¦æä¾›è‡ªå·±çš„ä¸šåŠ¡ JSï¼Œæ‰€æœ‰ä¸šåŠ¡ä½¿ç”¨åŒä¸€ä»½ QRN æ¡†æ¶ JSï¼Œè¿™æ˜¾è‘—å‡å°‘äº† RN é¡µé¢éœ€è¦æä¾›çš„ JS ä»£ç å¤§å°ï¼Œå½“ APP ä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªä¸åŒ RN ä¸šåŠ¡é¡µé¢æ—¶æˆ‘ä»¬åªéœ€è¦æä¾›ä¸€ä»½æ¡†æ¶ JSã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡æ‹†åˆ†å QRN çš„åŠ è½½æµç¨‹åœ¨ RN çš„åŸºç¡€ä¸Šå˜ä¸ºäº† 5 ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹åŒ– RN ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;åŠ è½½æ¡†æ¶ JS &lt;/li&gt;
&lt;li&gt;ä¸‹è½½ä¸šåŠ¡ JS &lt;/li&gt;
&lt;li&gt;è¿è¡Œä¸šåŠ¡ JS&lt;/li&gt;
&lt;li&gt;æ¸²æŸ“é¡µé¢&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844924224240.jpg&quot; width=&quot;500&quot;&gt;
&lt;p&gt;å› ä¸ºæ¡†æ¶ JS æ˜¯å†…ç½®åˆ° APP ä¸­çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦è€ƒè™‘æ¡†æ¶ JS çš„ä¸‹è½½æ—¶é—´ï¼Œè¿™é‡Œç›´æ¥æŠŠè¯»å–æ¡†æ¶ JS å’Œè¿è¡Œæ¡†æ¶ JS åˆå¹¶ä¸ºåŠ è½½æ¡†æ¶ JS ã€‚è€Œå¯¹äºå¤æ‚çš„ QRN ä¸šåŠ¡ï¼Œå› ä¸ºåŒ…å«å¤šä¸ªé¡µé¢å…¶ä¸šåŠ¡ JS çš„å¤§å°ç”šè‡³ä¼šè¶…è¿‡ 1MBï¼Œå³ä½¿æ˜¯æ‹†åˆ†ä¹‹åæˆ‘ä»¬ä¾ç„¶éœ€è¦è€ƒè™‘ä¸‹è½½ä¸šåŠ¡ JS çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Bridge-çš„é¢„åŠ è½½å’Œç¼“å­˜&quot;&gt;&lt;a href=&quot;#Bridge-çš„é¢„åŠ è½½å’Œç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;Bridge çš„é¢„åŠ è½½å’Œç¼“å­˜&quot;&gt;&lt;/a&gt;Bridge çš„é¢„åŠ è½½å’Œç¼“å­˜&lt;/h3&gt;&lt;p&gt;ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ‰“å¼€ QRN é¡µé¢çš„é€Ÿåº¦ï¼Œåœ¨ QRN ä¸­é¢„åŠ è½½å’Œç¼“å­˜äº† Bridgeã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844941527209.jpg&quot; width=&quot;500&quot;&gt;
&lt;p&gt;å› ä¸ºåˆå§‹åŒ– RN ç¯å¢ƒå’ŒåŠ è½½æ¡†æ¶ JS ä¸¤ä¸ªé˜¶æ®µä¸å…·ä½“ä¸šåŠ¡æ˜¯æ— å…³çš„ï¼Œæ‰€ä»¥å¯ä»¥é¢„å…ˆåˆå§‹åŒ–ä¸€ä¸ªå·²ç»åŠ è½½äº†æ¡†æ¶ JS çš„ Bridgeï¼Œå½“æ‰“å¼€ QRN é¡µé¢æ—¶åªéœ€è¦æ‰§è¡Œåé¢çš„ 3 ä¸ªé˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºä¸€ä¸ªå·²ç»æˆåŠŸè¿è¡Œä¸šåŠ¡ JS çš„ Bridgeï¼Œæˆ‘ä»¬å¯ä»¥ç¼“å­˜ä¸‹æ¥ï¼Œå½“ç”¨æˆ·å†æ¬¡æ‰“å¼€è¯¥ä¸šåŠ¡çš„ QRN é¡µé¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¼“å­˜çš„ Bridgeï¼Œè¿™æ ·å¯ä»¥ç›´æ¥å¼€å§‹é¡µé¢çš„æ¸²æŸ“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ APP å¯åŠ¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªé¢„åŠ è½½æ¡†æ¶ JS çš„ Bridgeã€‚å¦‚æœé¦–æ¬¡æ‰“å¼€ä¸€ä¸ª QRN ä¸šåŠ¡é¡µé¢åˆ™ä½¿ç”¨å·²ç»é¢„åŠ è½½æ¡†æ¶ JS çš„ Bridge å»åŠ è½½ä¸šåŠ¡ JS ï¼Œåœ¨æˆåŠŸåŠ è½½åä¼šç¼“å­˜è¿™ä¸ª Bridgeï¼Œç„¶åå»¶æ—¶åˆ›å»ºä¸€ä¸ªé¢„åŠ è½½æ¡†æ¶ JS çš„ Bridgeã€‚å¦‚æœç”¨æˆ·å†æ¬¡æ‰“å¼€è¯¥ QRN ä¸šåŠ¡çš„é¡µé¢åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥ä¸šåŠ¡ç¼“å­˜çš„ Bridgeã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844946283915.jpg&quot; width=&quot;300&quot;&gt;
&lt;p&gt;å› æ­¤å¤§éƒ¨åˆ†æƒ…å†µä¸‹é¦–æ¬¡æ‰“å¼€ä¸€ä¸ª QRN é¡µé¢çš„åŠ è½½æµç¨‹æ˜¯ä¸‹å›¾ä¸­çš„æƒ…å†µ2ã€‚åªæœ‰éå¸¸æç«¯çš„æƒ…å†µï¼šè¿ç»­æ‰“å¼€ 2 ä¸ªå…¨æ–° QRN ä¸šåŠ¡çš„é¡µé¢ï¼Œç”±äºé¢„åŠ è½½çš„æ¡†æ¶ JS æ˜¯å»¶è¿Ÿåˆ›å»ºï¼Œå› æ­¤ç¬¬äºŒä¸ª QRN ä¸šåŠ¡ä¼šèµ°å®Œå…¨éƒ¨çš„ 5 ä¸ªé˜¶æ®µï¼Œå³æƒ…å†µ1ã€‚å¯¹äºå·²ç»ç¼“å­˜çš„ Bridgeï¼Œç”¨æˆ·æ‰“å¼€å¯¹åº”çš„é¡µé¢æ—¶ï¼Œåªéœ€è¦è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼Œå‰é¢æåˆ°è¿‡è¿™ä¸ªæ—¶é—´æ˜¯éå¸¸å¿«çš„ã€‚QRN ä¸­ LoadingåŠ¨ç”»çš„æ—¶é—´å¯¹åº”ä¸‹å›¾ä¸­çš„çº¢è‰²æ–¹æ¡†ï¼Œå› æ­¤åœ¨ QRN ä¸­ Loading åŠ¨ç”»åªä¼šå­˜åœ¨äºé¦–æ¬¡è¿›å…¥ QRN ä¸šåŠ¡çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844950632803.jpg&quot; width=&quot;600&quot;&gt;
&lt;h3 id=&quot;QRN-Loading-æ—¶é—´&quot;&gt;&lt;a href=&quot;#QRN-Loading-æ—¶é—´&quot; class=&quot;headerlink&quot; title=&quot;QRN  Loading æ—¶é—´&quot;&gt;&lt;/a&gt;QRN  Loading æ—¶é—´&lt;/h3&gt;&lt;p&gt;QRN ä¸­é¦–å±åŠ è½½ Loading åŠ¨ç”»æ˜¯ QRN é¡µé¢åŠ è½½æµç¨‹çš„å‰é¢ 4 ä¸ªé˜¶æ®µï¼Œä¸‹å›¾æ˜¯æˆ‘ä»¬åŸºäº iPhone 6 æµ‹è¯•å‡ºæ¥çš„æ—¶é—´ï¼š&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14844955591500.jpg&quot; width=&quot;500&quot;&gt;
&lt;p&gt;é€šè¿‡é¢„åŠ è½½ï¼Œ QRN çš„åŠ è½½æ—¶é—´å¯ä»¥å‡å°‘ 300ms å·¦å³ã€‚è€Œä¸‹è½½ä¸šåŠ¡ JS åˆåˆ†ä¸ºèµ°ç¦»çº¿åŒ…å’Œèµ°çº¿ä¸Šä¸¤ç§æƒ…å†µï¼Œèµ°ç¦»çº¿åŒ…æŒ‡çš„æ˜¯ç½‘ç»œè¯·æ±‚è¢«æœ¬åœ°ç¦»çº¿èµ„æºåŒ…æ‰€æ‹¦æˆªï¼Œè¿™ä¸ªé€Ÿåº¦å’Œè¯»å–æœ¬åœ°æ–‡ä»¶ä¸€è‡´ï¼Œè€Œèµ°çº¿ä¸Šå°±æ˜¯ç”±çº¿ä¸Šçš„æœåŠ¡å™¨è¿”å›æ‰€éœ€è¦çš„èµ„æºï¼Œéšç€ä¸šåŠ¡ JS å¤§å°å¢åŠ ï¼Œè¿™ä¸ªæ—¶é—´ä¼šæ™®éå¤§äº 1sã€‚å¯¹äº QRN å·²ç»ä¸Šçº¿çš„ä¸šåŠ¡ï¼Œè¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´åœ¨ä¼˜åŒ–ä¹‹å‰æ™®éä¼šè¶…è¿‡ 300msã€‚&lt;/p&gt;
&lt;h2 id=&quot;QRN-çš„é¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#QRN-çš„é¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;QRN çš„é¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–&quot;&gt;&lt;/a&gt;QRN çš„é¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–&lt;/h2&gt;&lt;p&gt;å‰é¢å·²ç»åˆ†æäº† QRN çš„åŠ è½½æµç¨‹å’Œé¦–å± Loading ä¸­å„ä¸ªé˜¶æ®µçš„æ—¶é—´ï¼Œå¯ä»¥çœ‹åˆ° QRN çš„ Loading å¤§éƒ¨åˆ†å¯¹åº”ä¸‹è½½ä¸šåŠ¡ JS å’Œè¿è¡Œä¸šåŠ¡ JS ä¸¤ä¸ªé˜¶æ®µã€‚ä¸‹è½½ä¸šåŠ¡ JS  åªè¦ä¿è¯æ˜¯èµ°ç¦»çº¿åŒ…ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶é—´å°±éå¸¸ç†æƒ³ï¼Œå› æ­¤è¦ä¼˜åŒ–é¦–å±åŠ è½½æ—¶é—´å°±åªæœ‰ä»è¿è¡Œä¸šåŠ¡ JS å…¥æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ€ä¹ˆæ¥å‡å°‘è¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´å‘¢ï¼Œé¦–å…ˆçœ‹çœ‹ RN æ˜¯æ€ä¹ˆå‡å°‘è¿è¡Œ JS Bundle çš„æ—¶é—´çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;RN-é€šè¿‡-Lazy-requires-ä¼˜åŒ–-JS-Bundle-è¿è¡Œé€Ÿåº¦&quot;&gt;&lt;a href=&quot;#RN-é€šè¿‡-Lazy-requires-ä¼˜åŒ–-JS-Bundle-è¿è¡Œé€Ÿåº¦&quot; class=&quot;headerlink&quot; title=&quot;RN é€šè¿‡ Lazy requires ä¼˜åŒ– JS Bundle è¿è¡Œé€Ÿåº¦&quot;&gt;&lt;/a&gt;RN é€šè¿‡ Lazy requires ä¼˜åŒ– JS Bundle è¿è¡Œé€Ÿåº¦&lt;/h3&gt;&lt;p&gt;Facebook æœ‰ä¸€ç¯‡å…³äº RN ä¼˜åŒ–çš„&lt;a href=&quot;https://code.facebook.com/posts/895897210527114/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Blog&lt;/a&gt;ï¼Œå…¶ä¸­æåˆ°ä¸€ä¸ªéå¸¸å…³é”®çš„ç‚¹å°±æ˜¯: Lazy requiresï¼Œåªæœ‰ä½¿ç”¨ä¸€ä¸ª JS æ¨¡å—æ—¶æ‰å» require è¿™ä¸ªæ¨¡å—ï¼ŒåŸºäºè¿™ä¸ªåŸç†ï¼ŒRN ä¸­ä½¿ç”¨çš„å„ç§ç»„ä»¶æ˜¯é€šè¿‡ get çš„æ–¹å¼æŒ‚åœ¨ &lt;code&gt;react-native&lt;/code&gt; ä¸Šï¼Œè¿™æ ·åªæœ‰ç”¨æˆ·åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶ä¾‹å¦‚ &lt;code&gt;Image&lt;/code&gt; æ—¶æ‰ä¼š &lt;code&gt;require(&amp;#39;Image&amp;#39;)&lt;/code&gt; è¿™ä¸ªæ¨¡å—ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//  Libraries/react-native/react-native.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;const ReactNative = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // Components&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ActivityIndicator() &amp;#123; return require(&amp;apos;ActivityIndicator&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ActivityIndicatorIOS() &amp;#123; return require(&amp;apos;ActivityIndicatorIOS&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ART() &amp;#123; return require(&amp;apos;ReactNativeART&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get DatePickerIOS() &amp;#123; return require(&amp;apos;DatePickerIOS&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get DrawerLayoutAndroid() &amp;#123; return require(&amp;apos;DrawerLayoutAndroid&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get Image() &amp;#123; return require(&amp;apos;Image&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ImageEditor() &amp;#123; return require(&amp;apos;ImageEditor&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ImageStore() &amp;#123; return require(&amp;apos;ImageStore&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get KeyboardAvoidingView() &amp;#123; return require(&amp;apos;KeyboardAvoidingView&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get ListView() &amp;#123; return require(&amp;apos;ListView&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  get MapView() &amp;#123; return require(&amp;apos;MapView&amp;apos;); &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; Lazy requires å¯ä»¥æœ‰æ•ˆçš„å‡å°‘è¿è¡Œ JS Bundle çš„æ—¶é—´ï¼Œè¿™æ˜¯å› ä¸º require ä¸€ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªè€—æ—¶çš„æ“ä½œï¼Œé€šè¿‡ require çš„ polyfills å®ç°å¯ä»¥çœ‹åˆ°ï¼Œrequire ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ¨¡å—å¹¶åˆ›å»ºæ‰€éœ€çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆå§‹åŒ–ä¸€ä¸ªæ¨¡å—æ—¶å¯èƒ½ä¼šå» require å…¶ä»–æ¨¡å—ï¼Œè¿™ç§é“¾å¼çš„ require ä¼šå¯¼è‡´éœ€è¦èŠ±è´¹ä¸€ä¸ªè¾ƒé•¿çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// packager/react-pakager/src/Resolve/polyfills/require.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;function require(id) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  var mod = modules[id];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  if (mod &amp;amp;&amp;amp; mod.isInitialized) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return mod.module.exports;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  return requireImpl(id);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;global.require = require;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; å¦ä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ° require å‡½æ•°åªä¼šåˆå§‹åŒ–ä¸€æ¬¡è¯¥æ¨¡å—ï¼Œè¿™æ„å‘³ç€å½“æˆ‘ä»¬å¤šæ¬¡å» require åŒä¸€ä¸ªæ¨¡å—æ—¶ï¼Œå…¶å®è·å–çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚åªæœ‰ç¬¬ä¸€æ¬¡ require ä¼šèŠ±è´¹è¾ƒé•¿æ—¶é—´ï¼Œåé¢çš„å¤šæ¬¡ require ä»…ä»…æ˜¯ç®€å•çš„æŒ‡é’ˆèµ‹å€¼ï¼Œè€ŒæŒ‡é’ˆèµ‹å€¼çš„é€Ÿåº¦æ˜¯éå¸¸å¿«çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;QRN-æ¡†æ¶-JS-æå‰-require-å¸¸ç”¨ç»„ä»¶&quot;&gt;&lt;a href=&quot;#QRN-æ¡†æ¶-JS-æå‰-require-å¸¸ç”¨ç»„ä»¶&quot; class=&quot;headerlink&quot; title=&quot;QRN æ¡†æ¶ JS æå‰ require å¸¸ç”¨ç»„ä»¶&quot;&gt;&lt;/a&gt;QRN æ¡†æ¶ JS æå‰ require å¸¸ç”¨ç»„ä»¶&lt;/h3&gt;&lt;p&gt;ç»“åˆå‰é¢å¯¹ require çš„åˆ†æï¼Œå¦‚æœåœ¨æ¡†æ¶ JS ä¸­æå‰ require ä¸šåŠ¡ JS æ‰€éœ€è¦çš„ç»„ä»¶ï¼Œé‚£ä¹ˆä¸šåŠ¡ require è¿™äº›ç»„ä»¶çš„æ—¶å€™åªä¼šèŠ±è´¹éå¸¸å°‘çš„æ—¶é—´ï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾è‘—çš„å‡å°‘è¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´ï¼Œä»è€Œä¼˜åŒ–é¦–å±åŠ è½½é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§è¿™ä¸ªæ€è·¯æˆ‘ä»¬åœ¨ QRN çš„æ¡†æ¶ JS ä¸­ require äº†å¸¸ç”¨çš„ç»„ä»¶ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬äº† &lt;code&gt;View&lt;/code&gt; ã€&lt;code&gt;Text&lt;/code&gt;ã€&lt;code&gt;Image&lt;/code&gt;ã€&lt;code&gt;ScrollView&lt;/code&gt;ã€&lt;code&gt;ListView&lt;/code&gt; è¿˜æœ‰ QRN å¢å¼ºæ¡†æ¶ Ext ç­‰ç­‰ã€‚é€šè¿‡è¿™ç§æ–¹æ³•åŠ è½½æ¡†æ¶ JS çš„è¿è¡Œæ—¶é—´å¢åŠ äº†200msï¼Œä½†æ˜¯ä¸šåŠ¡ JS çš„è¿è¡Œæ—¶é—´ç›¸åº”çš„å‡å°‘äº† 200msï¼Œä¹Ÿå°±æ˜¯è¯´é¦–å±çš„åŠ è½½æ—¶é—´ï¼ˆå¯¹åº”ä¸‹è½½ä¸šåŠ¡ JS å’Œè¿è¡Œä¸šåŠ¡ JS ä¸¤ä¸ªé˜¶æ®µï¼‰ç›¸åº”çš„ä¹Ÿå‡å°‘äº† 200msã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14845605379982.jpg&quot; width=&quot;500&quot;&gt;
&lt;h3 id=&quot;å¼‚æ­¥-require-é¡µé¢å‡å°‘è¿è¡Œä¸šåŠ¡-JS-æ—¶é—´&quot;&gt;&lt;a href=&quot;#å¼‚æ­¥-require-é¡µé¢å‡å°‘è¿è¡Œä¸šåŠ¡-JS-æ—¶é—´&quot; class=&quot;headerlink&quot; title=&quot;å¼‚æ­¥ require é¡µé¢å‡å°‘è¿è¡Œä¸šåŠ¡ JS æ—¶é—´&quot;&gt;&lt;/a&gt;å¼‚æ­¥ require é¡µé¢å‡å°‘è¿è¡Œä¸šåŠ¡ JS æ—¶é—´&lt;/h3&gt;&lt;p&gt;åœ¨æ¡†æ¶ JS ä¸­æå‰ require å¸¸ç”¨ç»„ä»¶å¯ä»¥å‡å°‘è¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´ï¼Œä½†æ˜¯å¯¹äºæ‹¥æœ‰å¤šä¸ªé¡µé¢çš„ QRN ä¸šåŠ¡ï¼Œä¾‹å¦‚æœ‰20ä¸ªé¡µé¢çš„é…’åº—ä¸šåŠ¡ï¼Œè¿è¡Œå…¶ä¸šåŠ¡ JS çš„æ—¶é—´è¿˜æ˜¯ä¼šè¶…è¿‡ 500msï¼Œå¯¹äºè¿™ç§æƒ…å†µå°±éœ€è¦é€šè¿‡å¼‚æ­¥ require é¡µé¢çš„æ–¹å¼æ¥å‡å°‘è¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¸¸è§çš„ QRN ä¸šåŠ¡ï¼Œå…¶å…¥å£ JS å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šå¸¸ä¼šå…ˆ import åŸºç¡€ç»„ä»¶ï¼Œç„¶åå¼•å…¥ä¸€äº›å·¥å…·ä¾‹å¦‚ Reduxç­‰ï¼Œä¹‹åä¼š import å†™åœ¨å…¶ä»–æ–‡ä»¶ä¸­çš„é¡µé¢ï¼Œæœ€åæˆ‘ä»¬ä¼šè°ƒç”¨ &lt;code&gt;AppRegistry.registerComponent()&lt;/code&gt; æ³¨å†Œé¡µé¢ã€‚import å‡½æ•°æ˜¯ ES6 æä¾›çš„å¼•å…¥ç»„ä»¶çš„æ–°æ–¹å¼ï¼Œå…¶ç­‰æ•ˆäºåœ¨æ–‡ä»¶æœ€å‰ require æ‰€éœ€çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14845620112962.jpg&quot; width=&quot;600&quot;&gt;
&lt;p&gt;å½“è¿è¡Œä¸šåŠ¡ JS æ—¶ï¼Œå…¶å®åˆå§‹åŒ–äº†æ‰€æœ‰çš„é¡µé¢ï¼Œä½†æ˜¯ä¸€ä¸ª QRN ä¸šåŠ¡çš„é¦–å±åªéœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œå› æ­¤ require åˆå§‹åŒ–å…¶ä»–é¡µé¢æ‰€èŠ±è´¹çš„æ—¶é—´ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰ã€‚å¦‚æœå¯ä»¥åœ¨è¿è¡Œä¸šåŠ¡ JS æ—¶ä¸åŠ è½½é¡µé¢åˆ™ä¼šæ˜¾è‘—çš„å‡å°‘è¿è¡Œä¸šåŠ¡ JS çš„æ—¶é—´ã€‚ç”± RN åŠ è½½æµç¨‹å¯çŸ¥ï¼Œ&lt;code&gt;AppRegistry.registerComponent()&lt;/code&gt; å‡½æ•°ä¸­ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥å¼€å§‹æ¸²æŸ“æ—¶è¿”å›æ‰€å¯¹åº”çš„ç»„ä»¶,å¦‚æœæŠŠ require ç»„ä»¶å†™åœ¨è¿™ä¸ªå‡½æ•°ä¸­åˆ™å¯ä»¥ä¿è¯åœ¨è¿è¡Œä¸šåŠ¡ JS æ—¶ä¸åˆå§‹åŒ–è¿™ä¸ªç»„ä»¶ï¼Œé¡µé¢çš„ require åªæœ‰åœ¨éœ€è¦æ¸²æŸ“è¿™ä¸ªé¡µé¢æ—¶æ‰§è¡Œã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// ä¹‹å‰çš„å†™æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;const Page1  = require(&amp;apos;Page1&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;const Page2  = require(&amp;apos;Page2&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;const Page3  = require(&amp;apos;Page3&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;const Page4  = require(&amp;apos;Page4&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page1&amp;apos;, () =&amp;gt; Page1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page2&amp;apos;, () =&amp;gt; Page2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page3&amp;apos;, () =&amp;gt; Page3);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page4&amp;apos;, () =&amp;gt; Page4);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// ä¼˜åŒ–çš„å†™æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page1&amp;apos;, () =&amp;gt; require(&amp;apos;Page1&amp;apos;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page2&amp;apos;, () =&amp;gt; require(&amp;apos;Page2&amp;apos;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page3&amp;apos;, () =&amp;gt; require(&amp;apos;Page3&amp;apos;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AppRegistry.registerComponent(&amp;apos;Page4&amp;apos;, () =&amp;gt; require(&amp;apos;Page4&amp;apos;));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æŒ‰ç…§è¿™ä¸ªæ€è·¯ä¼˜åŒ–å Hotel 20 ä¸ªé¡µé¢çš„ä¸šåŠ¡JS åŠ è½½çš„æ—¶é—´ä» 500ms+ å‡å°‘åˆ°äº† 112msï¼Œä»ä¸‹é¢çš„ä¼˜åŒ–æ•ˆæœä¸­å¯ä»¥çœ‹åˆ°å½±å“è¿è¡Œ JS çš„æ—¶é—´çš„å…³é”®å¹¶ä¸æ˜¯ JS æ–‡ä»¶çš„å¤§å°ã€‚&lt;/p&gt;
&lt;img src=&quot;http://ojvik2xpf.bkt.clouddn.com/14845667355580.jpg&quot; width=&quot;400&quot;&gt;
&lt;p&gt;å¯¹äºä½¿ç”¨ QRN å¢åŠ æ¡†æ¶ Ext å¼€å‘çš„ä¸šåŠ¡ï¼Œä» QRN v1.6.0 å¼€å§‹ä¹Ÿæä¾›äº†ç±»ä¼¼çš„æ³¨å†Œæ–¹æ³•ç”¨æ¥ä¼˜åŒ–åŠ è½½é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; // ä¹‹å‰çš„å†™æ³•ï¼Œç›´æ¥ require é¡µé¢&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;require(&amp;apos;./views/hotelList&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;require(&amp;apos;./views/hotelDetail&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; // ä¼˜åŒ–çš„å†™æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ View Name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ext.registerView( &amp;apos;HotelList&amp;apos; , ()=&amp;gt; require(&amp;apos;./views/hotelList&amp;apos;) );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ext.registerView( &amp;apos;HotelDetail&amp;apos;, ()=&amp;gt; require(&amp;apos;./views/hotelDetail&amp;apos;) );&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»äº† RN å’Œ QRN çš„åŠ è½½æµç¨‹ï¼ŒåŸºäº require ç»„ä»¶ä¼šè€—è´¹æ—¶é—´çš„è®¤çŸ¥ä¸Šæä¾›äº†ä¼˜åŒ– QRN é¦–å±åŠ è½½é€Ÿåº¦çš„æ–¹æ³•ï¼šåœ¨æ¡†æ¶ JS ä¸­æå‰ require æ‰€éœ€çš„ç»„ä»¶å’Œåœ¨ä¸šåŠ¡JS ä¸­å¼‚æ­¥ require é¡µé¢ã€‚ç»“åˆè¿™ä¸¤ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆçš„å‡å°‘é¦–å±çš„åŠ è½½æ—¶é—´ï¼Œè®©é¦–æ¬¡è¿›å…¥ QRN é¡µé¢çš„ä½“éªŒæ›´æ¥è¿‘ Native é¡µé¢ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      ä¼˜åŒ– QunarReactNative é¦–å±åŠ è½½é€Ÿåº¦
    
    </summary>
    
      <category term="iOS" scheme="http://wenzhao.in/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://wenzhao.in/tags/iOS/"/>
    
      <category term="ReactNative" scheme="http://wenzhao.in/tags/ReactNative/"/>
    
      <category term="QunarReactNative" scheme="http://wenzhao.in/tags/QunarReactNative/"/>
    
  </entry>
  
  <entry>
    <title>textInputMaxLength</title>
    <link href="http://wenzhao.in/RN-TextInput-MaxLength/"/>
    <id>http://wenzhao.in/RN-TextInput-MaxLength/</id>
    <published>2016-05-21T08:29:06.000Z</published>
    <updated>2016-05-21T09:58:27.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ‰ä¸šåŠ¡çº¿çš„åŒäº‹æåˆ°&lt;code&gt;ReactNative&lt;/code&gt;çš„&lt;code&gt;TextInput&lt;/code&gt;ç»„ä»¶å­˜åœ¨ä¸€ä¸ªbugï¼Œä¸­æ–‡è¾“å…¥æ³•é€šè¿‡ä¸åœç‚¹å‡»è”æƒ³è¯è¯­å¯ä»¥çªç ´&lt;code&gt;MaxLength&lt;/code&gt;å±æ€§çš„é™åˆ¶ã€‚äºæ˜¯å¼€å§‹ç ”ç©¶ä¿®å¤è¿™ä¸ªbugã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ‰¾å‡ºbugçš„åŸå› &quot;&gt;&lt;a href=&quot;#æ‰¾å‡ºbugçš„åŸå› &quot; class=&quot;headerlink&quot; title=&quot;æ‰¾å‡ºbugçš„åŸå› &quot;&gt;&lt;/a&gt;æ‰¾å‡ºbugçš„åŸå› &lt;/h2&gt;&lt;p&gt;è¦ä¿®å¤bugé¦–å…ˆéœ€è¦ç¡®è®¤bugå‡ºç°çš„æ¡ä»¶ï¼Œæµ‹è¯•å‘ç°åªæœ‰ä½¿ç”¨&lt;code&gt;iOS&lt;/code&gt;ç³»ç»Ÿé»˜è®¤çš„ä¸­æ–‡&lt;strong&gt;æ‹¼éŸ³&lt;/strong&gt;è¾“å…¥æ³•çš„è”æƒ³åŠŸèƒ½æ‰ä¼šçªç ´&lt;code&gt;TextInput&lt;/code&gt;çš„&lt;code&gt;MaxLength&lt;/code&gt;é™åˆ¶ã€‚å…¶ä»–è¾“å…¥æ³•æ¯”å¦‚é»˜è®¤çš„ä¸­æ–‡ç¬”ç”»è¾“å…¥ã€æœç‹—è¾“å…¥æ³•ç­‰éƒ½ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚   &lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹&lt;code&gt;ReactNative&lt;/code&gt;çš„æºç å‘ç°ï¼Œé™åˆ¶&lt;code&gt;TextInput&lt;/code&gt;è¾“å…¥é•¿åº¦çš„æ˜¯åœ¨&lt;code&gt;RCTTextFieldManager&lt;/code&gt;å¯¹æ¯ä¸ª&lt;code&gt;RCTTextField&lt;/code&gt;çš„ä¸‹åˆ—å›è°ƒä¸­å¤„ç†çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt;)textField:(RCTTextField *)textField shouldChangeCharactersInRange:(&lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt;)range replacementString:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)string&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Only allow single keypresses for onKeyPress, pasted text will not be sent.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (textField.textWasPasted) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    textField.textWasPasted = &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [textField sendKeyValueForString:string];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (textField.maxLength == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; || [string isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;\n&quot;&lt;/span&gt;]) &amp;#123;  &lt;span class=&quot;comment&quot;&gt;// Make sure forms can be submitted via return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; allowedLength = textField.maxLength.integerValue - textField.text.length + range.length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (string.length &amp;gt; allowedLength) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (string.length &amp;gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// Truncate the input string so the result is exactly maxLength&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *limitedString = [string substringToIndex:allowedLength];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;NSMutableString&lt;/span&gt; *newString = textField.text.mutableCopy;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      [newString replaceCharactersInRange:range withString:limitedString];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      textField.text = newString;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// Collapse selection at end of insert to match normal paste behavior&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;UITextPosition&lt;/span&gt; *insertEnd = [textField positionFromPosition:textField.beginningOfDocument&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          offset:(range.location + allowedLength)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      textField.selectedTextRange = [textField textRangeFromPosition:insertEnd toPosition:insertEnd];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      [textField textFieldDidChange];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½“ä½¿ç”¨é»˜è®¤çš„ä¸­æ–‡æ‹¼éŸ³çš„è”æƒ³è¾“å…¥çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šèµ°è¿™ä¸ª&lt;code&gt;delegate&lt;/code&gt;ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯ç®—ç³»ç»Ÿçš„bugå§ï¼Œå› ä¸ºæµ‹è¯•å‘ç°&lt;code&gt;UITextFieldDelegate&lt;/code&gt;çš„æ‰€æœ‰æ–¹æ³•åœ¨æ­¤æ—¶å‡ä¸ä¼šè°ƒç”¨ï¼Œå› æ­¤ä½¿ç”¨&lt;code&gt;UITextFieldDelegate&lt;/code&gt;å¹¶ä¸èƒ½å»é™åˆ¶é»˜è®¤ä¸­æ–‡è¾“å…¥æ³•çš„è”æƒ³è¾“å…¥é•¿åº¦ã€‚   &lt;/p&gt;
&lt;p&gt;çœ‹æ¥åªæœ‰ä»å¦å¤–çš„æ¸ é“å»åˆ¤æ–­è¾“å…¥çš„å­—ç¬¦æ˜¯å¦è¶…è¿‡é•¿åº¦ï¼Œå¥½åœ¨è¿™ç§æƒ…å†µä¼šè§¦å‘&lt;code&gt;UIControlEventEditingChanged&lt;/code&gt;ï¼Œå› æ­¤å¯ä»¥åœ¨&lt;code&gt;RCTTextField&lt;/code&gt;çš„&lt;code&gt;textFieldDidChange&lt;/code&gt;æ–¹æ³•ä¸­é™åˆ¶è¾“å…¥çš„é•¿åº¦ï¼Œå¦‚æœè¾“å…¥çš„é•¿åº¦è¿‡é•¿åˆ™æˆªå–ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦å¤–çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#å¦å¤–çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;å¦å¤–çš„é—®é¢˜&quot;&gt;&lt;/a&gt;å¦å¤–çš„é—®é¢˜&lt;/h2&gt;&lt;h3 id=&quot;æ‹¼éŸ³è¾“å…¥çš„é•¿åº¦é—®é¢˜&quot;&gt;&lt;a href=&quot;#æ‹¼éŸ³è¾“å…¥çš„é•¿åº¦é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;æ‹¼éŸ³è¾“å…¥çš„é•¿åº¦é—®é¢˜&quot;&gt;&lt;/a&gt;æ‹¼éŸ³è¾“å…¥çš„é•¿åº¦é—®é¢˜&lt;/h3&gt;&lt;p&gt;åœ¨&lt;code&gt;RCTTextField&lt;/code&gt;çš„&lt;code&gt;textFieldDidChange&lt;/code&gt;æ–¹æ³•ä¸­é™åˆ¶è¾“å…¥çš„é•¿åº¦ï¼Œå¯ä»¥è§£å†³é»˜è®¤ä¸­æ–‡è”æƒ³è¾“å…¥è¿‡é•¿çš„é—®é¢˜ï¼Œä½†æ˜¯è‡ªå·±æµ‹è¯•å°±å‘ç°äº†å¦å¤–çš„é—®é¢˜ğŸ˜³&lt;br&gt;ä¸­æ–‡è¾“å…¥çš„æ—¶å€™æ‰“çš„æ‹¼éŸ³ä¼šè¢«ç®—åˆ°&lt;code&gt;text&lt;/code&gt;çš„é•¿åº¦ä¸­ï¼Œè¿™æ ·å°±å¯¼è‡´äº†å¦‚æœåªèƒ½è¾“å…¥ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™åªèƒ½æ‰“ä¸€ä¸ªæ‹¼éŸ³å­—æ¯äº†ğŸ˜‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šæœç´¢å‘ç°ä¸­æ–‡çš„blogå¯¹é™åˆ¶&lt;code&gt;UITextField&lt;/code&gt;é•¿åº¦çš„æ—¶å€™éƒ½è€ƒè™‘è¿‡æ‹¼éŸ³å­—æ¯çš„é—®é¢˜ï¼Œä¸ä¼šç»Ÿè®¡æ‹¼éŸ³å­—æ¯åˆ°å­—ç¬¦çš„é•¿åº¦ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è¡¨æƒ…æˆªå–çš„é—®é¢˜ğŸ˜ƒ&quot;&gt;&lt;a href=&quot;#è¡¨æƒ…æˆªå–çš„é—®é¢˜ğŸ˜ƒ&quot; class=&quot;headerlink&quot; title=&quot;è¡¨æƒ…æˆªå–çš„é—®é¢˜ğŸ˜ƒ&quot;&gt;&lt;/a&gt;è¡¨æƒ…æˆªå–çš„é—®é¢˜ğŸ˜ƒ&lt;/h3&gt;&lt;p&gt;è¿˜æœ‰ä¸ªå…³é”®çš„é—®é¢˜å°±æ˜¯è¡¨æƒ…çš„æˆªå–é—®é¢˜ï¼Œæ¯ä¸ªè¡¨æƒ…ğŸ˜„éƒ½æ˜¯å ç”¨çš„2ä¸ªå­—ç¬¦ï¼Œç®€å•ç²—æš´çš„æˆªå–å°±ä¼šæ‚²å‰§ğŸ˜±&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šéƒ½æœ‰å¾ˆå¤šè¿™ç§ç±»å‹çš„blogï¼Œåªèƒ½è¯´ä¸‹é¢çš„è¿™ä¸ªæ–¹æ³•çœŸå¥½ä½¿ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¸ä½¿ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.text = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.text substringToIndex:_maxLength.unsignedIntegerValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä½¿ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt; range = &lt;span class=&quot;built_in&quot;&gt;NSMakeRange&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, _maxLength.unsignedIntegerValue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt; textRange = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.text rangeOfComposedCharacterSequencesForRange:range];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.text = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.text substringWithRange:textRange];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¦å¤–çš„å‘&quot;&gt;&lt;a href=&quot;#å¦å¤–çš„å‘&quot; class=&quot;headerlink&quot; title=&quot;å¦å¤–çš„å‘&quot;&gt;&lt;/a&gt;å¦å¤–çš„å‘&lt;/h3&gt;&lt;p&gt;å½“ç„¶å®˜æ–¹çš„è¿˜æœ‰å¤§å‘ï¼Œåœ¨åˆ¤æ–­è¾“å…¥å­—ç¬¦çš„æ˜¯å¦è¶…è¿‡çš„é™åˆ¶çš„æ—¶å€™ï¼Œ&lt;code&gt;allowedLength&lt;/code&gt;æ˜¯è¿™æ ·æ±‚çš„ï¼š&lt;br&gt;&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; allowedLength = textField.maxLength.integerValue - textField.text.length + range.length;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ª&lt;code&gt;allowedLength&lt;/code&gt;å› ä¸ºæ˜¯æ— ç¬¦å·çš„ï¼Œæ‰€ä»¥æœ¬æ¥åº”è¯¥æ˜¯è´Ÿæ•°çš„ä¼šå˜çš„å¾ˆå¤§å¾ˆå¤§å¥½ä¹ˆğŸ˜‚&lt;br&gt;å¦‚æœ&lt;code&gt;TextInput&lt;/code&gt;é»˜è®¤è®¾ç½®å­—ç¬¦çš„é•¿åº¦è¶…è¿‡äº†&lt;code&gt;MaxLength&lt;/code&gt;ï¼Œç„¶åå°±å¯ä»¥å„ç§ç©è€è¾“å…¥äº†ğŸ˜‚&lt;/p&gt;
&lt;p&gt;ä¿®è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ä¸€å®šå¾—æ³¨æ„å¦‚æœé»˜è®¤å­—ç¬¦è¶…å‡ºé•¿åº¦çš„è¯å¾—å…è®¸åˆ é™¤ï¼Œä¸è¦é—®æˆ‘ä¸ºå•¥çŸ¥é“ğŸ˜‚ğŸ˜‚ğŸ˜‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      ä¿®æ”¹ReactNativeçš„TextInputç»„ä»¶MaxLengthé”™è¯¯
    
    </summary>
    
      <category term="iOS" scheme="http://wenzhao.in/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://wenzhao.in/tags/iOS/"/>
    
      <category term="ReactNative" scheme="http://wenzhao.in/tags/ReactNative/"/>
    
  </entry>
  
  <entry>
    <title>æŠ˜è…¾Hexoçš„ç¬¬ä¸€å¤©</title>
    <link href="http://wenzhao.in/first-hexo-day/"/>
    <id>http://wenzhao.in/first-hexo-day/</id>
    <published>2016-05-15T03:55:33.000Z</published>
    <updated>2016-05-15T11:01:34.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;hexo&lt;/code&gt;æ”¯æŒ&lt;code&gt;Markdown&lt;/code&gt;ï¼Œå†™èµ·æ¥è¿˜æ˜¯è›®é¡ºæ‰‹çš„ï¼Œä¸è¿‡ä¹Ÿæ˜¯å„ç§å‘å•Š@_@   &lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç½‘é¡µé¦–å…ˆå°‘ä¸äº†çš„å°±æ˜¯å›¾ç‰‡äº†&lt;/p&gt;
&lt;p&gt;å›¾ç‰‡å¾ˆå¥½è¯´å•Šï¼Œç›´æ¥&lt;code&gt;Markdown&lt;/code&gt;éƒ½æœ‰ç°æˆçš„æ ¼å¼å¼•å…¥ï¼Œ&lt;code&gt;hexo&lt;/code&gt;ç”¨çš„æ˜¯&lt;code&gt;marked&lt;/code&gt;ï¼Œè¿™ä¸ªå¹¶ä¸æ”¯æŒè®¾ç½®å›¾ç‰‡çš„ sizeï¼Œè‡ªå·±ä¸æƒ³å»æ‰‹åŠ¨å‹ç¼©å›¾ç‰‡ï¼Œäºæ˜¯é¦–å…ˆæƒ³åˆ°å°±æ˜¯æ·»åŠ å¯¹å›¾ç‰‡ size è®¾ç½®çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;h2 id=&quot;å›¾ç‰‡sizeçš„æ”¯æŒ&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡sizeçš„æ”¯æŒ&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡sizeçš„æ”¯æŒ&quot;&gt;&lt;/a&gt;å›¾ç‰‡sizeçš„æ”¯æŒ&lt;/h2&gt;&lt;p&gt;åœ¨&lt;code&gt;marked&lt;/code&gt;çš„ &lt;a href=&quot;https://github.com/chjj/marked/issues/339&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;issues&lt;/a&gt; ä¸­ isiahmeadows æåˆ°äº†ä¸€ç§å»ä¿®æ”¹&lt;code&gt;Renderer.prototype.image&lt;/code&gt; è¿™ä¸ªæ–¹æ³•ï¼Œå¢åŠ å¯¹ size çš„è§£æï¼Œç„¶åæ ¹æ® size è§£æå‡ºæ¥çš„å‚æ•°å»è®¾ç½® &lt;code&gt;img&lt;/code&gt;æ ‡ç­¾çš„&lt;code&gt;width&lt;/code&gt;å’Œ&lt;code&gt;height&lt;/code&gt;ã€‚&lt;br&gt;è¿™ä¸ªæ€è·¯ä¸é”™ï¼Œcopyäº†ä»–çš„ä»£ç ï¼Œä¿®æ”¹äº†äº›è®¸çš„bugğŸ˜ƒï¼Œç„¶åé‡å¯ &lt;code&gt;hexo&lt;/code&gt;çš„serverï¼Œå‘ç°å›¾ç‰‡çš„&lt;code&gt;height&lt;/code&gt;å±æ€§å¹¶ä¸èƒ½ç”Ÿæ•ˆğŸ˜“&lt;br&gt;æœç´¢äº†ä¸‹å‘ç°æ˜¯CSSçš„åŸå› ï¼Œ &lt;code&gt;height&lt;/code&gt;è¢«è®¾ç½®ä¸º&lt;code&gt;auto&lt;/code&gt;äº†&lt;br&gt;å…¶å®é€šå¸¸æƒ…å†µä¸‹éƒ½ä¸ä¼šå»æ›´æ”¹å›¾ç‰‡çš„é•¿å®½æ¯”ï¼Œé‚£ä¹ˆåªéœ€è¦è®¾ç½®ä¸‹å›¾ç‰‡çš„&lt;code&gt;width&lt;/code&gt;å°±å¯ä»¥äº†ï¼Œäºæ˜¯ç»§ç»­ä¿®æ”¹&lt;code&gt;markded&lt;/code&gt;ï¼Œä¿®æ”¹è®¾ç½®sizeçš„æ•°å€¼çš„é¡ºåºï¼Œç¬¬ä¸€ä¸ªæ˜¯widthç¬¬äºŒä¸ªæ˜¯heightã€‚åŒæ—¶ä¿®æ”¹äº†ä¸‹è¯¥ä»£ç ä¸­çš„è§£æé•¿å®½çš„æ­£åˆ™ï¼Œå¯ä»¥åªå†™&lt;code&gt;width&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åŸå§‹çš„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; exec = &lt;span class=&quot;regexp&quot;&gt;/\s=\s*(\d*)\s*x\s*(\d*)\s*$/&lt;/span&gt;.exec(href)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¿®æ”¹åçš„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; exec = &lt;span class=&quot;regexp&quot;&gt;/\s=\s*(\d*)\s*x?\s*(\d*)\s*$/&lt;/span&gt;.exec(href)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åé¢å°±æ˜¯å¼€å¿ƒçš„åªç”¨è®¾ç½®å›¾ç‰‡çš„å®½åº¦å•¦~~~&lt;br&gt;èµ¶ç´§å†™äº†ç¬¬ä¸€ç¯‡è¯•è¯•ï¼Œçœ‹ä¸Šå»è¿˜ä¸é”™~&lt;/p&gt;
&lt;p&gt;ç„¶åä»é¦–é¡µç‚¹è¿›å»ï¼Œå‘ç°äº†å¦å¤–çš„ä¸€ä¸ªå‘ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å›¾ç‰‡è·¯å¾„çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡è·¯å¾„çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡è·¯å¾„çš„é—®é¢˜&quot;&gt;&lt;/a&gt;å›¾ç‰‡è·¯å¾„çš„é—®é¢˜&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Markdown&lt;/code&gt;ä¸­å›¾ç‰‡çš„&lt;code&gt;src&lt;/code&gt;éƒ½æ˜¯å’Œç”¨æˆ·å†™çš„ä¸€æ ·ï¼Œäºæ˜¯å°±å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨é¦–é¡µå¯ä»¥æ˜¾ç¤ºçš„å›¾ç‰‡åˆ°äº†è¯¦æƒ…é¡µå°±ä¸èƒ½æ˜¾ç¤ºäº†ã€‚&lt;br&gt;å¦‚æœå¼€å¯äº†&lt;code&gt;post_asset_folder&lt;/code&gt;çš„è®¾ç½®ï¼Œå°±æ˜¯è¯¦æƒ…é¡µå¯ä»¥æ˜¾ç¤ºé¦–é¡µä¸èƒ½äº†ã€‚&lt;br&gt;äºæ˜¯ç»§ç»­æ‰¾æ–‡æ¡£ï¼Œå‘ç°ä½¿ç”¨&lt;a href=&quot;https://hexo.io/zh-cn/docs/asset-folders.html#ç›¸å¯¹è·¯å¾„å¼•ç”¨çš„æ ‡ç­¾æ’ä»¶&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç›¸å¯¹è·¯å¾„å¼•ç”¨çš„æ ‡ç­¾&lt;/a&gt;å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% asset_img   icon.png å›¾æ ‡ %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;img src=&quot;/first-hexo-day/icon.png&quot; alt=&quot;å›¾æ ‡&quot; title=&quot;å›¾æ ‡&quot;&gt;
&lt;p&gt;ä¹‹åå°±å‘ç°ä¸€ä¸ªå°´å°¬çš„é—®é¢˜ï¼Œä¸èƒ½è®¾ç½®å›¾ç‰‡çš„å¤§å°ï¼ï¼ï¼ å‰é¢åˆç™½å¹²äº†ã€‚&lt;br&gt;æœç´¢äº†ä¸‹å‘ç°&lt;code&gt;asset_img&lt;/code&gt;å¹¶ä¸æ”¯æŒè®¾ç½®å›¾ç‰‡å¤§å°ï¼Œäºæ˜¯æƒ³å­¦ç€å‰é¢ä¿®æ”¹&lt;code&gt;Markdown&lt;/code&gt;çš„æ–¹æ³•å»ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿è‡ªå·±å°±åªæ”¯æŒ&lt;code&gt;width&lt;/code&gt;çš„è®¾ç½®äº†ï¼Œäºæ˜¯é¦–å…ˆçš„é—®é¢˜å°±æ˜¯å‚æ•°æ”¾åœ¨å“ªï¼Ÿï¼å› ä¸º&lt;code&gt;width&lt;/code&gt;çš„è®¾ç½®ä¸æ˜¯å¿…éœ€çš„ï¼Œå› æ­¤å°±å¾—è€ƒè™‘å¦‚ä½•å…¼å®¹æ²¡æœ‰è®¾ç½®è¯¥å±æ€§çš„æ—¶å€™ã€‚å¦‚æœæ”¾åœ¨åé¢çš„è¯ï¼Œå®˜æ–¹çš„ä»£ç é€»è¾‘ä¼šæŠŠåé¢æ‰€æœ‰çš„éƒ½å½“æˆ&lt;code&gt;title&lt;/code&gt;ï¼Œè¿™ä¸ªé€»è¾‘æ˜¯åˆç†çš„ï¼Œå› ä¸ºæœ‰çš„æ—¶å€™æˆ‘ä»¬çš„&lt;code&gt;title&lt;/code&gt;ä¼šåŒ…å«ç©ºæ ¼ã€‚&lt;br&gt;&lt;code&gt;width&lt;/code&gt;ä¸èƒ½æ”¾åé¢çš„è¯å°±æ”¾åœ¨å‰é¢å§ï¼Œè€ƒè™‘åˆ°ä¸€ä¸ªå›¾ç‰‡çš„&lt;code&gt;src&lt;/code&gt;ä¸ä¼šæ˜¯çº¯æ•°å­—çš„æƒ…å†µï¼Œå› æ­¤å¯ä»¥é€šè¿‡æ­£åˆ™åˆ¤æ–­çš„æ–¹å¼æ¥åˆ¤æ–­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦æ˜¯&lt;code&gt;width&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;src&lt;/code&gt;ï¼Œäºæ˜¯åšäº†å¦‚ä¸‹çš„ä¿®æ”¹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&#39;use strict&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;url&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Asset image tag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Syntax:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *   &amp;#123;% asset_img slug [title]%&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;ctx&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; PostAsset = ctx.model(&lt;span class=&quot;string&quot;&gt;&#39;PostAsset&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;assetImgTag&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;args&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; slug = args.shift();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//å®½åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; width;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;regexp&quot;&gt;/^\d+$/&lt;/span&gt;.test(slug)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            width = slug;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            slug = args.shift();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!slug) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; asset = PostAsset.findOne(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            post: &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._id,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            slug: slug&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!asset) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// if title is not assigned, set it &#39;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; title = args.length ? args.join(&lt;span class=&quot;string&quot;&gt;&#39; &#39;&lt;/span&gt;) : &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// alt always exist&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; alt = title || asset.slug;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (width) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;img src=&quot;&#39;&lt;/span&gt; + url.resolve(ctx.config.root, asset.path) + &lt;span class=&quot;string&quot;&gt;&#39;&quot; alt=&quot;&#39;&lt;/span&gt; + alt + &lt;span class=&quot;string&quot;&gt;&#39;&quot; title=&quot;&#39;&lt;/span&gt; + title + &lt;span class=&quot;string&quot;&gt;&#39;&quot; width=&quot;&#39;&lt;/span&gt; + width + &lt;span class=&quot;string&quot;&gt;&#39;&quot;&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;img src=&quot;&#39;&lt;/span&gt; + url.resolve(ctx.config.root, asset.path) + &lt;span class=&quot;string&quot;&gt;&#39;&quot; alt=&quot;&#39;&lt;/span&gt; + alt + &lt;span class=&quot;string&quot;&gt;&#39;&quot; title=&quot;&#39;&lt;/span&gt; + title + &lt;span class=&quot;string&quot;&gt;&#39;&quot;&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åé¢å°±å¯ä»¥æ„‰å¿«çš„è®¾ç½®å›¾ç‰‡çš„sizeäº†&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% asset_img  20  icon.png å°å›¾æ ‡ %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;img src=&quot;/first-hexo-day/icon.png&quot; alt=&quot;å°å›¾æ ‡&quot; title=&quot;å°å›¾æ ‡&quot; width=&quot;20&quot;&gt;
</content>
    
    <summary type="html">
    
      ä¿®æ”¹hexoæ”¯æŒå›¾ç‰‡çš„size
    
    </summary>
    
      <category term="Web" scheme="http://wenzhao.in/categories/Web/"/>
    
    
      <category term="hexo" scheme="http://wenzhao.in/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ç¯‡</title>
    <link href="http://wenzhao.in/hello-world/"/>
    <id>http://wenzhao.in/hello-world/</id>
    <published>2016-05-14T10:30:13.000Z</published>
    <updated>2016-05-15T11:01:48.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸Šåˆæœ¬æ¥å‡†å¤‡æŠ˜è…¾ä¸‹ &lt;code&gt;hexo&lt;/code&gt;çš„ï¼Œç»“æœåœ¨åˆ·å®Œ6.0çš„Z3åæ²¡æœ‰æ‹¿ç¨³ï¼Œç„¶åå°±æ‚²å‰§äº†(ï¼ï¹ï¼œ)&lt;br&gt;&lt;img src=&quot;/hello-world/images/z3_screen.jpg&quot; alt=&quot;ç ´ç¢çš„å±å¹•ğŸ’”&quot; title=&quot;ç ´ç¢çš„å±å¹•ğŸ’”&quot; width=&quot;400&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹åå°±æ˜¯æ‹†æœºè¯„ä¼°æ¢å±çš„éš¾åº¦äº†ï¼Œå‘ç°z3éƒ½å¼€å§‹ä½¿ç”¨çƒ­ç®¡äº†&lt;br&gt;&lt;img src=&quot;/hello-world/images/z3_inside.jpg&quot; alt=&quot;çƒ­ç®¡æ•£çƒ­&quot; title=&quot;çƒ­ç®¡æ•£çƒ­&quot; width=&quot;400&quot;&gt;&lt;/p&gt;
&lt;p&gt;xå®ä¹°äº†ä¸ªAå±ï¼Œç­‰æ”¶åˆ°è´§åçœ‹èƒ½å¦è£…èµ·æ¥å§ã€‚ã€‚ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      å¤§æ³•Z3éƒ½æ²¡æœ‰ç†¬è¿‡ä¸€å¹´ğŸ˜³
    
    </summary>
    
      <category term="Life" scheme="http://wenzhao.in/categories/Life/"/>
    
    
      <category term="life" scheme="http://wenzhao.in/tags/life/"/>
    
  </entry>
  
</feed>
